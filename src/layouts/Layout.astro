---
import '../styles/global.css';
import './Layout.css';
import BurgerMenu from '../components/BurgerMenu/BurgerMenu.jsx';
const { title = 'Castaway Studios' } = Astro.props;

// Get current path for active navigation state
const currentPath = Astro.url.pathname;

// Function to check if nav item is active
function isActive(path: string): boolean {
  if (path === '/' && (currentPath === '/' || currentPath === '/home')) return true;
  return currentPath === path;
}
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="/global/logo.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <title>{title}</title>
  </head>
  <body class="page-wrapper">
    <header class="header">
      <nav class="nav">
        <div class="nav-left">
          <a href="/" class={`nav-item ${isActive('/') ? 'active' : ''}`}>home</a>
          <a href="/games" class={`nav-item ${isActive('/games') ? 'active' : ''}`}>games</a>
          <a href="/team" class={`nav-item ${isActive('/team') ? 'active' : ''}`}>team</a>
          <a href="/careers" class={`nav-item ${isActive('/careers') ? 'active' : ''}`}>careers</a>
          <a href="/aboutUs" class={`nav-item ${isActive('/aboutUs') ? 'active' : ''}`}>about us</a>
        </div>

        <div class="nav-center">
          <a href="/">
            <img src="/global/logo.svg" alt="Castaway Studios" class="nav-logo" />
          </a>
        </div>

        <div class="nav-right">
          <div class="social-icons">
            <a href="mailto:contact@castaway.studio" class="social-icon">
              <img src="/global/material-symbols_mail.svg" alt="Email" />
            </a>
            <a href="https://www.linkedin.com/company/castaway-studios/" target="_blank" rel="noopener noreferrer" class="social-icon">
              <img src="/global/mdi_linkedin.svg" alt="LinkedIn" />
            </a>
          </div>
          <a href="/contactUs" class={`nav-item highlight ${isActive('/contactUs') ? 'active' : ''}`}>Contact Us</a>
          <BurgerMenu client:load currentPath={currentPath} />
        </div>
      </nav>
    </header>

    <main class="main-content body-offset">
      <slot />
    </main>

    <footer class="footer">
      <div class="footer-container">
        <div class="footer-section footer-brand">
          <img src="/global/logo.svg" alt="Castaway Studios" class="footer-logo" />
          <a href="mailto:contact@castaway.studio" class="footer-email">contact@castaway.studio</a>
        </div>

        <div class="footer-section footer-customer">
          <h3 class="footer-title">Customer Service</h3>
          <ul class="footer-links">
            <li><a href="/contactUs" class="footer-link">Contact us</a></li>
            <li><a href="#" class="footer-link">Support</a></li>
            <li><a href="#" class="footer-link">FAQ</a></li>
          </ul>
        </div>

        <div class="footer-section footer-info">
          <h3 class="footer-title">Information</h3>
          <ul class="footer-links">
            <li><a href="#" class="footer-link">Terms & conditions</a></li>
            <li><a href="/privacy" class="footer-link">Privacy policy</a></li>
          </ul>
        </div>

        <div class="footer-section footer-social">
          <div class="footer-social-icons">
            <a href="https://www.linkedin.com/company/castaway-studios/" target="_blank" rel="noopener noreferrer" class="footer-social-icon">
              <img src="/global/mdi_linkedin.svg" alt="LinkedIn" />
            </a>
            <a href="mailto:contact@castaway.studio" class="footer-social-icon">
              <img src="/global/material-symbols_mail.svg" alt="Email" />
            </a>
          </div>
          <a href="mailto:contact@castaway.studio" class="footer-email footer-email-tablet">contact@castaway.studio</a>
        </div>
      </div>

      <div class="footer-bottom">
        <p class="footer-copyright">Â© 2025 Castaway Studios. All Rights Reserved.</p>
        <div class="footer-lang">
          <span class="lang-active">EN</span>/<span class="lang-inactive">FR</span>
        </div>
      </div>
    </footer>
  </body>
</html>
