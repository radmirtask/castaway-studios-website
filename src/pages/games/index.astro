---
import Layout from '../../layouts/Layout.astro';
import './games.css';

const games = [
  {
    id: 'elarion',
    title: 'ELARION',
    subtitle: 'One finger. Epic battles. A world that grows with you.',
    description: 'Elarion is a vertical action RPG built for mobile, where fluid one-finger combat meets boss fights, loot hunts, and a base you\'ll call home. Dodge, strike, and unleash powerful skills in cinematic battles packed with haptics and style. Level up your hero. Rebuild your hometown. Defeat enemies from beyond the gate, and feel it all in the palm of your hand.',
    tags: ['Vertical Action RPG', 'One-Finger Combat', 'Boss Fights'],
    appStoreUrl: 'https://testflight.apple.com/join/zxnhRVqH',
    isTestFlight: true
  },
  {
    id: 'arenaquest',
    title: 'ARENA QUEST',
    subtitle: 'Step into the shadow. Fight to survive.',
    description: 'Welcome to a dark fantasy RPG where you battle through cursed arenas filled with monsters, magic, and madness. Dodge, attack, and unleash powerful skills with smooth one-finger control. Choose your hero, upgrade your gear, and create the ultimate skill set to overcome each arena. Dive deeper into the Realm — and prove you have what it takes to survive. Fast action. Dark world. Deep mastery.',
    tags: ['Dark Fantasy RPG', 'Arena Combat', 'Skill Customization'],
    appStoreUrl: 'https://apps.apple.com/tr/app/realms-of-shadow-arena-quest/id6463578863'
  },
  {
    id: 'puppycollector',
    title: 'PUPPY COLLECTOR',
    subtitle: 'Collect the puppies that choose you.',
    description: 'Not every pup is yours to keep — only the ones who feel a connection. Explore charming worlds, bond with adorable dogs, and grow your collection one friendship at a time. Relaxing, heartwarming, and made for all ages, Puppy Collector is a cozy adventure where love leads the way.',
    tags: ['Cozy Adventure', 'Collection Game', 'All Ages'],
    appStoreUrl: 'https://apps.apple.com/tr/app/puppy-collector/id6503171564'
  }
];
---

<Layout title="Games — Castaway Studios">
  <main class="games-page">
    <section class="hero">
      <div class="hero__content">
        <h1 class="hero__title">FUTURE OF<br>MOBILE GAMES</h1>
      </div>
      <button class="hero__scroll-arrow" aria-label="Scroll to games section">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 4V20M12 20L18 14M12 20L6 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </section>

    <section class="games-section">
      <div class="games-container">
        {games.map((game) => (
          <div class="game-card">
            <div class="game-card__bg-image" style={`background-image: url('/games/${game.id}/BG.png')`}></div>
            <div class="game-card__phone">
              <img src={`/games/${game.id}/GameScreen.png`} alt={`${game.title} Screenshot`} class="game-card__phone-image" />
            </div>
            <div class="game-card__content">
              <h2 class="game-card__title">{game.title}</h2>
              <h3 class="game-card__subtitle">{game.subtitle}</h3>
              <p class="game-card__description">{game.description}</p>
              <div class="game-card__tags">
                {game.tags.map((tag) => (
                  <span class="game-card__tag">{tag}</span>
                ))}
              </div>
                             <div class="game-card__button">
                 {game.appStoreUrl ? (
                   <a href={game.appStoreUrl} target="_blank" rel="noopener noreferrer">
                     {game.isTestFlight ? (
                       <img src="/games/testflight-badge.png" alt="Available on TestFlight" class="testflight-badge" />
                     ) : (
                       <img src="/games/app_store.png" alt="Download on App Store" class="app-store-button" />
                     )}
                   </a>
                 ) : (
                   <img src="/games/app_store.png" alt="Coming Soon" class="app-store-button" />
                 )}
               </div>
            </div>
          </div>
        ))}
      </div>
    </section>

    <section class="cta-banner">
      <div class="cta-banner__bg-image"></div>
      <div class="cta-banner__content">
        <h2 class="cta-banner__title">Ready to Build What's Next?</h2>
        <a href="/careers" class="cta-banner__button">View Open Positions</a>
      </div>
    </section>
  </main>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const scrollArrow = document.querySelector('.hero__scroll-arrow');
    const gamesSection = document.querySelector('.games-section');
    
    if (scrollArrow && gamesSection) {
      scrollArrow.addEventListener('click', function() {
        gamesSection.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      });
    }
  });
</script>
